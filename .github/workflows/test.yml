name: Unit Tester ğŸ§ª

on:
  push:
  pull_request:
  workflow_dispatch:

jobs:
  run-tests:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3

      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.10'

      # ğŸ•µï¸â€â™‚ï¸ NOVÃ KROK: Inspekce mÃ­sta Äinu
      - name: Inspekce souborÅ¯ (Sherlock Holmes)
        run: |
          echo "ğŸ“‚ Vypisuji soubory v aktuÃ¡lnÃ­ sloÅ¾ce:"
          ls -la
          echo "-----------------------------------"
          if [ -f requirements.txt ]; then
            echo "âœ… requirements.txt NALEZEN! Obsah:"
            cat requirements.txt
          else
            echo "âŒ requirements.txt NENALEZEN!"
            echo "HledÃ¡m jakÃ©koliv podobnÃ© soubory..."
            find . -maxdepth 2 -name "req*"
          fi

      - name: Install dependencies
        run: |
          python -m pip install --upgrade pip
          pip install pytest
          # ZkusÃ­me instalovat, a pokud to selÅ¾e, chceme vidÄ›t proÄ
          pip install -r requirements.txt
          pip install pandas

      - name: Run Pytest
        run: |
          pytest
